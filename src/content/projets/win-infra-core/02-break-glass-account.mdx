---
title: "SÃ©curitÃ© : Compte de secours Break-Glass"
description: "Mise en place d'une procÃ©dure d'urgence pour prÃ©venir la perte d'accÃ¨s au domaine aprÃ¨s durcissement."
tags: ["SÃ©curitÃ©", "Active Directory", "Windows Server"]
pubDate: 2026-01-24
slug: "break-glass-account"
---

import SeriesStepper from '../../../components/SeriesStepper.astro';
import NextStep from '../../../components/NextStep.astro';
import { WIN_INFRA_CORE } from '../../../constants/series';

<SeriesStepper 
  seriesTitle="Fondations & Hardening" 
  steps={WIN_INFRA_CORE} 
  currentStepIndex={2} 
/>

Le durcissement (Hardening) d'une infrastructure peut paradoxalement mener Ã  un dÃ©ni de service administratif. Si une panne majeure affecte le MFA ou si une GPO bloque les accÃ¨s nominaux, le compte **Break-Glass** est l'ultime recours pour reprendre la main sur l'annuaire.

## ğŸ’» CrÃ©ation automatisÃ©e via PowerShell

Pour garantir une configuration rigoureuse, j'ai automatisÃ© la crÃ©ation du compte et de son environnement. Ce compte est membre du groupe **Admins du domaine** afin de garantir une capacitÃ© de restauration totale en cas de sinistre.

<div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-8">
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-infra-core/account-glass/script-secu-1.png" alt="Script partie 1" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Phase 1 : CrÃ©ation de l'OU 99-EMERGENCY et dÃ©finition des variables</p>
  </div>

  <div class="flex flex-col items-center">
    <img src="/images/projets/win-infra-core/account-glass/script-secu-2.png" alt="Script partie 2" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Phase 2 : CrÃ©ation de l'utilisateur et durcissement (Non-dÃ©lÃ©gation)</p>
  </div>
</div>

---

## ğŸ—ï¸ Isolation et Structure AD

Le compte `secu-adm-urgency` est isolÃ© dans une UnitÃ© d'Organisation (OU) spÃ©cifique. Cette sÃ©paration permet d'appliquer des restrictions d'accÃ¨s strictes et de faciliter l'audit.

<div style="display: flex; justify-content: center; margin: 3rem 0;">
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 500px;">
    <img src="/images/projets/win-infra-core/account-glass/secu-adm.png" alt="Utilisateur dans son OU" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Visualisation du compte dormant dans l'OU 99-EMERGENCY</p>
  </div>
</div>

---

## ğŸ›¡ï¸ Immunisation : Blocage de l'hÃ©ritage GPO

C'est l'Ã©tape cruciale de la stratÃ©gie : on veut s'assurer qu'aucune erreur de configuration dans une GPO globale (ex: restriction d'horaires ou paramÃ¨tre MFA dÃ©faillant) ne vienne verrouiller ce compte de secours.

<div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-8 items-center">
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-infra-core/account-glass/secu-adm-blok.png" alt="Blocage hÃ©ritage" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Action : Clic droit sur l'OU > Bloquer l'hÃ©ritage</p>
  </div>

  <div class="flex flex-col items-center">
    <img src="/images/projets/win-infra-core/account-glass/gpo-blok.png" alt="Confirmation blocage" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">RÃ©sultat : L'icÃ´ne bleue confirme que l'OU est protÃ©gÃ©e des GPO parentes</p>
  </div>
</div>

> ğŸ›¡ï¸ **Note de sÃ©curitÃ©** : Le blocage de lâ€™hÃ©ritage sur lâ€™OU 99-EMERGENCY empÃªche les GPO de configuration utilisateur dÃ©finies au niveau du domaine dâ€™affecter le compte de secours.  
> Les paramÃ¨tres de sÃ©curitÃ© appliquÃ©s aux **contrÃ´leurs de domaine** via leur propre OU restent toutefois actifs, garantissant que lâ€™audit et les protections systÃ¨me du DC demeurent en place quel que soit le compte utilisÃ©.
---

## ğŸ‘ï¸ Surveillance et Audit

Toute activitÃ© liÃ©e Ã  ce compte doit Ãªtre considÃ©rÃ©e comme un incident de sÃ©curitÃ©.  
La supervision repose notamment sur :

- **4624** : Connexion rÃ©ussie  
- **4625** : Tentative de connexion Ã©chouÃ©e  
- **4672** : Attribution de privilÃ¨ges spÃ©ciaux (connexion avec droits admin)

Ces Ã©vÃ©nements permettent de dÃ©tecter aussi bien lâ€™usage lÃ©gitime dâ€™urgence que les tentatives dâ€™abus.

<div class="my-6 overflow-hidden rounded-lg border border-white/10">
  <table class="w-full text-sm text-left">
    <thead class="bg-white/5">
      <tr>
        <th class="p-3 border-b border-white/10">ParamÃ¨tre de sÃ©curitÃ©</th>
        <th class="p-3 border-b border-white/10">Valeur / Ã‰tat</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">DÃ©lÃ©gation Kerberos</td>
        <td class="p-3 border-b border-white/10 text-blue-400">DÃ©sactivÃ©e (Sensible)</td>
      </tr>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">Expiration Password</td>
        <td class="p-3 border-b border-white/10">Jamais</td>
      </tr>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">Stockage Secret</td>
        <td class="p-3 border-b border-white/10 text-green-400">Physique (Hors-ligne)</td>
      </tr>
    </tbody>
  </table>
</div>

  <div style="display: flex; justify-content: center; margin: 3rem 0;">
    <div style="display: flex; flex-direction: column; align-items: center; max-width: 500px;">
      <img src="/images/projets/win-infra-core/account-glass/log-session-urgency.png" alt="log powershell" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
      <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Visualisation du log de connexion via PowerShell</p>
    </div>
  </div>

  ---

## ğŸš€ Perspectives : Centralisation et Alerting

L'audit local est une base indispensable, mais la sÃ©curitÃ© moderne repose sur la **proactivitÃ©**.

<div class="flex flex-col md:flex-row items-center gap-6 bg-white/5 p-6 rounded-xl border border-white/10 my-8">
  <div class="flex-1">
    <p class="text-sm leading-relaxed">
      La prochaine Ã©volution majeure consistera Ã  centraliser ces journaux vers un serveur <strong>Graylog</strong>. En configurant un <strong>Stream dÃ©diÃ©</strong>, chaque dÃ©tection de l'ID 4624 pour l'utilisateur <code>secu-adm-urgency</code> dÃ©clenchera une alerte instantanÃ©e (Email ou Webhook).
    </p>
  </div>
  <div class="flex items-center justify-center gap-4 text-2xl opacity-50">
    <span>ğŸ–¥ï¸</span>
    <span>â¡ï¸</span>
    <span>ğŸ“Š</span>
    <span>â¡ï¸</span>
    <span>ğŸš¨</span>
  </div>
</div>


<section class="mt-16 border-t border-white/10 pt-8">
  <div class="bg-red-500/10 border-l-4 border-red-500 p-6 my-8">
    <h4 class="text-red-400 font-bold mb-2 flex items-center gap-2">
      âš ï¸ RÃ¨gle de Gouvernance
    </h4>
    <p class="text-base leading-relaxed opacity-90">
      Ce compte ne doit <strong>jamais</strong> Ãªtre utilisÃ© pour des tÃ¢ches dâ€™administration courantes. 
      Son usage est strictement rÃ©servÃ© aux situations de crise. Chaque activation impose :
    </p>
    <ul class="list-disc list-inside mt-3 space-y-2 opacity-80 text-sm">
      <li>Une justification consignÃ©e dans le registre d'incidents.</li>
      <li>Une rotation <strong>immÃ©diate</strong> du mot de passe aprÃ¨s usage.</li>
      <li>Une analyse post-mortem systÃ©matique des logs de session.</li>
    </ul>
  </div>

  <p class="text-base leading-relaxed opacity-90 mt-8">
    La mise en place de cette issue de secours termine la prÃ©paration de notre socle. L'infrastructure est dÃ©sormais prÃªte pour un audit de vulnÃ©rabilitÃ©s approfondi.
  </p>

  <p class="text-base leading-relaxed opacity-90 mt-4">
    La prochaine phase utilisera l'outil <strong>PingCastle</strong> pour valider notre niveau de sÃ©curitÃ© et corriger les derniers points de faiblesse du domaine.
  </p>
</section>

<NextStep 
  href="/projets/audit-pingcastle" 
  title="Audit de sÃ©curitÃ© avec PingCastle" 
/>