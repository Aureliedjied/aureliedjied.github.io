---
title: "Structuration de l'Active Directory : Mod√®le de Tiering et Gouvernance"
description: "Mise en place d'une arborescence d'Unit√©s d'Organisation (OU) conforme aux recommandations ANSSI pour le cloisonnement des privil√®ges."
tags: ["Windows Server", "Active Directory", "OU", "S√©curit√©"]
category: "windows-server"
serie: "governance-access"
serieOrder: 1
pubDate: 2026-02-05
slug: "ou"
---

import SeriesStepper from '../../../components/SeriesStepper.astro';
import NextStep from '../../../components/NextStep.astro';

<p class="mt-6 text-sm leading-relaxed text-slate-700 dark:text-white/70">
L'organisation d'un annuaire n'est pas qu'une question de rangement : c'est la pierre angulaire de la s√©curit√©. Pour l'<strong>ANSSI</strong>, une structure √† plat est un risque majeur d'escalade de privil√®ges. Nous allons mettre en place un mod√®le de <strong>Tiering</strong> (cloisonnement) pour isoler les ressources selon leur criticit√©.
</p>

<div class="my-8 p-6 bg-blue-50 dark:bg-blue-500/5 border-l-4 border-blue-500 rounded-r-xl">
  <h4 class="text-xs font-black uppercase tracking-widest text-blue-800 dark:text-blue-400 mb-2">
    üõ°Ô∏è Le Principe du Tiering (Cloisonnement)
  </h4>
  <p class="text-sm text-slate-700 dark:text-white/80 leading-relaxed">
    L'objectif est simple : les comptes du <strong>Tier 0</strong> (Administrateurs de domaine) ne doivent jamais laisser d'empreintes (tokens/hashs) sur un syst√®me du <strong>Tier 2</strong> (Postes utilisateurs). En isolant ces objets dans des OUs distinctes, nous appliquons des politiques de s√©curit√© √©tanches.
  </p>
</div>

---

## üèóÔ∏è √âtape 1 : Architecture de la Racine (Mod√®le de Tiering)

Pour une gouvernance conforme, nous cr√©ons une racine num√©rot√©e. Les pr√©fixes `00`, `01`, `02` imposent un ordre visuel et hi√©rarchique imm√©diat, indispensable lors des audits de s√©curit√©.

<div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-10">
  <div class="p-5 bg-red-500/5 border border-red-500/20 rounded-2xl flex gap-4">
    <div class="text-2xl">üõ°Ô∏è</div>
    <div>
      <h4 class="font-black text-red-600 dark:text-red-400 text-sm tracking-wide">00_T0_ADMIN</h4>
      <p class="text-xs opacity-80 leading-relaxed mt-1">
        <strong>C≈ìur de l'identit√©.</strong> Contient les comptes nominatifs et les groupes √† hauts privil√®ges (Tier 0).
      </p>
    </div>
  </div>

  <div class="p-5 bg-amber-500/5 border border-amber-500/20 rounded-2xl flex gap-4">
    <div class="text-2xl">‚öôÔ∏è</div>
    <div>
      <h4 class="font-black text-amber-600 dark:text-amber-400 text-sm tracking-wide">01_T1_SERVERS</h4>
      <p class="text-xs opacity-80 leading-relaxed mt-1">
        <strong>Couche applicative.</strong> Regroupe les serveurs membres et les ressources critiques m√©tier : Bases de donn√©es, ERP, Intranet...
      </p>
    </div>
  </div>

  <div class="p-5 bg-blue-500/5 border border-blue-500/20 rounded-2xl flex gap-4">
    <div class="text-2xl">üë•</div>
    <div>
      <h4 class="font-black text-blue-600 dark:text-blue-400 text-sm tracking-wide">02_T2_PRODUCTION</h4>
      <p class="text-xs opacity-80 leading-relaxed mt-1">
        <strong>Zone utilisateur.</strong> Segmentation des collaborateurs, de leurs postes (Laptops/Fixes) et des groupes de ressources : imprimantes, scanettes ...
      </p>
    </div>
  </div>

  <div class="p-5 bg-emerald-500/5 border border-emerald-500/20 rounded-2xl flex gap-4">
    <div class="text-2xl">ü§ñ</div>
    <div>
      <h4 class="font-black text-emerald-600 dark:text-emerald-400 text-sm tracking-wide">90_INFRA_SERVICES</h4>
      <p class="text-xs opacity-80 leading-relaxed mt-1">
        <strong>Comptes techniques.</strong> H√©bergement des comptes de services classiques et des comptes <strong>gMSA</strong>.
      </p>
    </div>
  </div>

  <div class="p-5 bg-slate-500/5 border border-slate-500/20 rounded-2xl flex gap-4 md:col-span-2">
    <div class="text-2xl">‚ö†Ô∏è</div>
    <div>
      <h4 class="font-black text-slate-600 dark:text-slate-400 text-sm tracking-wide">98_QUARANTINE</h4>
      <p class="text-xs opacity-80 leading-relaxed mt-1">
        <strong>Zone tampon.</strong> Conteneur par d√©faut (via <code>redircmp</code>) pour tout nouvel objet avant validation et durcissement. Cela emp√™che l'application imm√©diate de privil√®ges √† un √©quipement potentiellement non conforme ou malveillant.
      </p>
    </div>
  </div>
</div>


<div class="flex flex-col items-center my-10">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-lg text-center">
    <img src="/images/projets/governance-access/ou/ous.png" alt="Console ADUC hi√©rarchis√©e en Tiers" class="rounded-xl w-full max-w-2xl" />
    <p style="font-size: 0.65rem; opacity: 0.5; margin-top: 8px; font-style: italic;">Arborescence technique finale respectant le cloisonnement des privil√®ges.</p>
  </div>
</div>



---
## üåê √âtape 2 : D√©finition de l'Infrastructure Physique (Toulon)

Avant d'organiser les ressources dans l'annuaire, il est crucial de d√©finir la r√©alit√© physique du r√©seau dans **AD Sites and Services**. Cela permet d'optimiser l'authentification et de pr√©parer la future r√©plication multi-sites.

### Renommage du site et d√©claration du Subnet
Le site par d√©faut (`Default-First-Site-Name`) a √©t√© renomm√© **TOULON**. J'y ai associ√© le sous-r√©seau correspondant √† mon segment LAN VmWare : `192.168.174.0/24`.

<div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-10">
  <img src="/images/projets/governance-access/sites-ad/renommer-site.png" alt="Etape 1 site" class="rounded-lg border border-white/10 shadow-md" />
  <img src="/images/projets/governance-access/sites-ad/associer-toulon.png" alt="Etape 2 site" class="rounded-lg border border-white/10 shadow-md" />
  <img src="/images/projets/governance-access/sites-ad/cr√©er-sous-reseau.png" alt="Etape 3 site" class="rounded-lg border border-white/10 shadow-md" />
  <img src="/images/projets/governance-access/sites-ad/dns-TOULON-ok.png" alt="Etape 4 site" class="rounded-lg border border-white/10 shadow-md" />
</div>
<p style="font-size: 0.65rem; text-align: center; opacity: 0.5; font-style: italic;">Configuration √©tape par √©tape du site TOULON et de son subnet dans AD Sites and Services.</p>

---

## üèóÔ∏è √âtape 3 : Segmentation G√©ographique des Ressources

Pour anticiper une future r√©plication et permettre l'application de GPO localis√©es (imprimantes, partages locaux), j'ai choisi de segmenter les **ressources mat√©rielles** par site.

### Cr√©ation des sous-OUs "TOULON"
Cette segmentation s'applique aux serveurs (**Tier 1**) et aux ordinateurs de production (**Tier 2**). Les utilisateurs, eux, restent organis√©s par service pour favoriser la mobilit√©. J'ai utilis√© PowerShell pour d√©sactiver/d√©placer/activer de nouveau la protection contre la suppression accidentelle.

<div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; margin: 3rem 0;">
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 400px;">
    <img src="/images/projets/governance-access/ou/script-toulon.png" alt="OU Toulon Servers" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Sous-OU d√©plac√©e dans l'OU Toulon pour le Tier 1 (Servers)</p>
  </div>
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 400px;">
    <img src="/images/projets/governance-access/ou/ous-toulon.png" alt="OU Toulon Computers" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Arborescence globale de l'annuaire</p>
  </div>
</div>

---

## üõ†Ô∏è √âtape 4 : Redirection et Protection

### Redirection des nouveaux objets (redircmp)
Par d√©faut, les nouveaux ordinateurs joints au domaine sont plac√©s dans le conteneur `CN=Computers`. Ce conteneur n'√©tant pas une OU, on ne peut pas y lier de GPO. Pour s√©curiser l'arriv√©e de nouveaux mat√©riels, j'ai redirig√© le conteneur par d√©faut vers l'OU de **Quarantaine**.

<div class="flex flex-col items-center my-10">
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 600px;">
    <img src="/images/projets/governance-access/ou/redirect-ou-quarentine.png" alt="Commande redircmp" class="rounded-lg border border-white/10 shadow-md w-full" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Ex√©cution de redircmp pour automatiser la mise en quarantaine.</p>
  </div>
</div>

### S√©curisation contre l'erreur humaine
Pour chaque OU critique, l'option **"Prot√©ger l'objet contre la suppression accidentelle"** est activ√©e. Cette mesure garantit qu'une mauvaise manipulation d'un administrateur (glisser-d√©poser ou suppression via PowerShell) ne pourra pas d√©truire une branche enti√®re de l'annuaire.

<div class="flex flex-col items-center my-10">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-lg">
    <img src="/images/projets/governance-access/ou/protected-ous.png" alt="Protection contre suppression accidentelle" class="rounded-xl w-full max-w-2xl" />
  </div>
</div>

---

## üìÇ √âtape 5 : Sp√©cificit√©s des comptes de service (gMSA)

Dans l'OU `90_INFRA_SERVICES`, nous isolons les **gMSA** (group Managed Service Accounts) : Ce sont des comptes utilis√©s exclusivement par des logiciels ou des services Windows (ex: un service SQL Server, un backup Veeam, ou un agent de supervision). L'ANSSI recommande fortement leur usage car ils n'ont pas de mot de passe connu par l'humain (rotation automatique par l'AD). Cela permet d'appliquer des politiques ultra-restrictives : interdiction de session interactive et blocage du bureau √† distance (RDP).

---

## üõ°Ô∏è √âtape 6 :  S√©curisation de la cha√Æne de confiance (Tier 0)

Bien que des politiques d'audit soient d√©finies √† la racine du domaine, j'ai fait le choix strat√©gique de **lier explicitement** la GPO de durcissement (`DOM - S - Advanced_Auditing`) directement √† l'OU **`00_T0_ADMIN`**.

**Pourquoi cette double liaison ?**
* **R√©silience** : En cas de d√©sactivation accidentelle de l'h√©ritage ("Block Inheritance"), le Tier 0 reste sous surveillance stricte.
* **Priorit√©** : Les r√©glages de haute verbosit√© (audit Kerberos, modifications d'ACLs) priment sur les r√©glages globaux du domaine.

<div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; margin: 3rem 0;">
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 400px;">
    <img src="/images/projets/governance-access/ou/lier-gpo-admin1.png" alt="experience-bureau" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">S√©l√©ctionner Lier un objet de strat√©gie de groupe √©xistant ...</p>
  </div>
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 400px;">
    <img src="/images/projets/governance-access/ou/lier-gpo-admin2.png" alt="Installation" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Selectionner la GPO √† lier</p>
  </div>
</div>



---

---
## üßæ Bilan : Une infrastructure pr√™te pour l'audit

<p class="mt-4">
Cette structure est conforme aux standards industriels et permet :
</p>

<div class="mt-8 grid grid-cols-1 gap-6">

  {/* Carte 1 */}
  <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="p-6 rounded-2xl shadow-sm transition-all hover:translate-x-1">
    <div class="flex items-center gap-3 mb-2">
      <span class="text-blue-500">üîë</span>
      <h3 style="color: var(--text-title);" class="font-bold text-lg tracking-tight">D√©l√©gation granulaire</h3>
    </div>
    <p class="text-sm leading-relaxed opacity-90">
      Les droits d'administration sont appliqu√©s uniquement sur l'OU <code style="color: var(--text-purple); background: var(--purple-border);" class="px-1.5 py-0.5 rounded text-xs font-mono">02_PRODUCTION</code>, garantissant qu'aucune empreinte du <strong>Tier 0</strong> n'est expos√©e sur les postes de travail.
    </p>
  </div>

  {/* Carte 2 */}
  <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="p-6 rounded-2xl shadow-sm transition-all hover:translate-x-1">
    <div class="flex items-center gap-3 mb-2">
      <span class="text-emerald-500">üõ°Ô∏è</span>
      <h3 style="color: var(--text-title);" class="font-bold text-lg tracking-tight">Mise en conformit√© automatique</h3>
    </div>
    <p class="text-sm leading-relaxed opacity-90">
      Gr√¢ce √† la commande <code style="color: var(--text-purple); background: var(--purple-border);" class="px-1.5 py-0.5 rounded text-xs font-mono">redircmp</code>, tout nouvel ordinateur rejoint le domaine dans un √©tat "non-approuv√©" en zone de quarantaine.
    </p>
  </div>

  {/* Carte 3 */}
  <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="p-6 rounded-2xl shadow-sm transition-all hover:translate-x-1">
    <div class="flex items-center gap-3 mb-2">
      <span class="text-purple-500">üìä</span>
      <h3 style="color: var(--text-title);" class="font-bold text-lg tracking-tight">Tra√ßabilit√© & Audit</h3>
    </div>
    <p class="text-sm leading-relaxed opacity-90">
      La hi√©rarchie num√©rot√©e simplifie la lecture des logs et l'application des GPO, rendant l'infrastructure imm√©diatement lisible lors d'un audit de s√©curit√© (type PingCastle).
    </p>
  </div>

</div>

---
<section class="mt-16 space-y-8">
  <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="rounded-2xl p-6 md:p-8 shadow-sm">
    
    <div class="flex flex-col md:flex-row md:items-center gap-8">
      
      {/* Partie Texte */}
      <div class="flex-1">
        <h3 style="color: var(--text-title);" class="text-xl font-black mb-6 flex items-center gap-2">
          <span class="text-green-500 text-lg">‚úÖ</span> Validation de l'arborescence
        </h3>
        
        <ul class="space-y-4">
          <li class="flex items-start gap-3">
            <p style="color: var(--text-main);" class="text-sm leading-relaxed">
                <strong>Isolation des Tiers :</strong> S√©paration herm√©tique entre les comptes d'administration et les postes de travail.
            </p>
          </li>
          
          <li class="flex items-start gap-3">
            <p style="color: var(--text-main);" class="text-sm leading-relaxed">
                <strong>Automatisation :</strong> Redirection des nouveaux objets vers l'OU 98 via <code style="color: var(--text-purple); background: var(--purple-border);" class="px-1 py-0.5 rounded text-xs font-mono">redircmp</code>.
            </p>
          </li>

          <li class="flex items-start gap-3">
            <p style="color: var(--text-main);" class="text-sm leading-relaxed">
                <strong>Gouvernance Technique :</strong> Centralisation des comptes gMSA dans l'OU 90.
            </p>
          </li>
        </ul>
      </div>

      {/* Partie Forteresse - Correction Mobile */}
      <div style="border-color: var(--card-border);" class="flex flex-col items-center justify-center p-6 border-t md:border-t-0 md:border-l min-w-[150px]">
          <div class="text-center">
            <div class="text-6xl mb-3 filter drop-shadow-xl animate-pulse">üè∞</div>
            <p style="color: var(--text-title);" class="text-[10px] uppercase tracking-[0.2em] font-black opacity-80">Forteresse AD</p>
            <p style="color: var(--text-muted);" class="text-[9px] mt-1 italic">Mod√®le Tiering valid√©</p>
          </div>
      </div>

    </div>
  </div>
</section>

<NextStep 
  href="/projets/methode-agdlp" 
  title="M√©thode AGDLP : Gestion des groupes et acc√®s" 
/>