---
title: "SÃ©curitÃ© : Compte de secours Break-Glass"
description: "Mise en place d'une procÃ©dure d'urgence pour prÃ©venir la perte d'accÃ¨s au domaine aprÃ¨s durcissement."
category: "windows-server"
tags: ["SÃ©curitÃ©", "Active Directory", "Windows Server"]
pubDate: 2026-01-12
slug: "break-glass-account"
serie: "architecture-ad" 
serieOrder: 3
---

import SeriesStepper from '../../../components/SeriesStepper.astro';
import NextStep from '../../../components/NextStep.astro';


<section class="my-10 space-y-8">
  
  <div class="flex flex-col md:flex-row gap-8 items-start">
    <div class="flex-1 space-y-4">
      <p class="text-base leading-relaxed opacity-90">
        Le durcissement (<em>Hardening</em>) d'une infrastructure peut paradoxalement mener Ã  un <strong>dÃ©ni de service administratif</strong>. 
      </p>
      <div class="bg-amber-500/10 border-l-4 border-amber-500 p-4 rounded-r-xl">
        <p class="text-sm leading-relaxed text-amber-200/80">
          Si une panne majeure affecte le MFA ou si une GPO restrictive bloque les accÃ¨s nominaux, le compte <strong>Break-Glass</strong> est l'ultime recours pour reprendre la main sur l'annuaire.
        </p>
      </div>
    </div>
  </div>

  <div class="pt-6 border-t border-white/5">
    <h2 class="text-2xl font-bold text-white flex items-center gap-3">
      <span class="text-blue-400">ğŸ’»</span> CrÃ©ation automatisÃ©e via PowerShell
    </h2>
    <p class="text-sm opacity-60 mt-2">
      Pour garantir une configuration rigoureuse et reproductible, j'ai automatisÃ© la crÃ©ation du compte <code class="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-md border border-blue-500/30 font-mono text-sm font-bold shadow-sm">secu-adm-urgency</code>. L'automatisation Ã©limine l'erreur humaine sur des paramÃ¨tres de sÃ©curitÃ© critiques.
    </p>
  </div>

</section>


<div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-10">
  
  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-white/10 shadow-lg bg-[#012456]">
      <div class="bg-white/10 px-3 py-2 flex gap-1.5 items-center">
        <div class="w-2 h-2 rounded-full bg-red-500/50"></div>
        <div class="text-[9px] text-white/40 font-mono ml-2 uppercase tracking-widest">Phase 1 : Init</div>
      </div>
      <img 
        src="/images/projets/architecture-ad/account-glass/script-secu-1.png" 
        alt="Script PowerShell Phase 1" 
        class="w-full h-full object-contain p-4" 
      />
    </div>
    <p class="text-[0.65rem] italic opacity-50 text-center px-4">Provisioning de l'OU <code>99-EMERGENCY</code> et initialisation des variables sÃ©curisÃ©es.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-white/10 shadow-lg bg-[#012456]">
      <div class="bg-white/10 px-3 py-2 flex gap-1.5 items-center">
        <div class="w-2 h-2 rounded-full bg-green-500/50"></div>
        <div class="text-[9px] text-white/40 font-mono ml-2 uppercase tracking-widest">Phase 2 : Hardening</div>
      </div>
      <img 
        src="/images/projets/architecture-ad/account-glass/script-secu-2.png" 
        alt="Script PowerShell Phase 2" 
        class="w-full h-full object-contain p-4" 
      />
    </div>
    <p class="text-[0.65rem] italic opacity-50 text-center px-4">CrÃ©ation de l'objet utilisateur et application des flags de non-dÃ©lÃ©gation Kerberos.</p>
  </div>
</div>
---

## ğŸ—ï¸ Isolation et Structure AD

Le compte `secu-adm-urgency` est isolÃ© dans une UnitÃ© d'Organisation (OU) spÃ©cifique. Cette sÃ©paration permet d'appliquer des restrictions d'accÃ¨s strictes et de faciliter l'audit.

<div style="display: flex; justify-content: center; margin: 3rem 0;">
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 500px;">
    <img src="/images/projets/architecture-ad/account-glass/secu-adm.png" alt="Utilisateur dans son OU" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Visualisation du compte dormant dans l'OU 99-EMERGENCY</p>
  </div>
</div>

---

## ğŸ›¡ï¸ Immunisation : Blocage de l'hÃ©ritage GPO

C'est l'Ã©tape cruciale de la stratÃ©gie : on veut s'assurer qu'aucune erreur de configuration dans une GPO globale (ex: restriction d'horaires ou paramÃ¨tre MFA dÃ©faillant) ne vienne verrouiller ce compte de secours.

<div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-8 items-center">
  <div class="flex flex-col items-center">
    <img src="/images/projets/architecture-ad/account-glass/secu-adm-blok.png" alt="Blocage hÃ©ritage" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Action : Clic droit sur l'OU > Bloquer l'hÃ©ritage</p>
  </div>

  <div class="flex flex-col items-center">
    <img src="/images/projets/architecture-ad/account-glass/gpo-blok.png" alt="Confirmation blocage" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">RÃ©sultat : L'icÃ´ne bleue confirme que l'OU est protÃ©gÃ©e des GPO parentes</p>
  </div>
</div>

> ğŸ’¡ **Note de sÃ©curitÃ©** : Bien que l'hÃ©ritage soit bloquÃ©, les stratÃ©gies appliquÃ©es directement au niveau des contrÃ´leurs de domaine restent actives. L'audit et la protection du systÃ¨me ne sont donc jamais compromis.
---

## ğŸ‘ï¸ Surveillance et Audit

Toute activitÃ© liÃ©e Ã  ce compte doit Ãªtre considÃ©rÃ©e comme un incident de sÃ©curitÃ©.  
La supervision repose notamment sur :

- **4624** : Connexion rÃ©ussie  
- **4625** : Tentative de connexion Ã©chouÃ©e  
- **4672** : Attribution de privilÃ¨ges spÃ©ciaux (connexion avec droits admin)

Ces Ã©vÃ©nements permettent de dÃ©tecter aussi bien lâ€™usage lÃ©gitime dâ€™urgence que les tentatives dâ€™abus.

<div class="my-6 overflow-hidden rounded-lg border border-white/10">
  <table class="w-full text-sm text-left">
    <thead class="bg-white/5">
      <tr>
        <th class="p-3 border-b border-white/10">ParamÃ¨tre de sÃ©curitÃ©</th>
        <th class="p-3 border-b border-white/10">Valeur / Ã‰tat</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">DÃ©lÃ©gation Kerberos</td>
        <td class="p-3 border-b border-white/10 text-blue-400">DÃ©sactivÃ©e (Sensible)</td>
      </tr>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">Expiration Password</td>
        <td class="p-3 border-b border-white/10">Jamais</td>
      </tr>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">Stockage Secret</td>
        <td class="p-3 border-b border-white/10 text-green-400">Physique (Hors-ligne)</td>
      </tr>
    </tbody>
  </table>
</div>

  <div style="display: flex; justify-content: center; margin: 3rem 0;">
    <div style="display: flex; flex-direction: column; align-items: center; max-width: 500px;">
      <img src="/images/projets/architecture-ad/account-glass/log-session-urgency.png" alt="log powershell" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
      <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Visualisation du log de connexion via PowerShell</p>
    </div>
  </div>

  ---

## ğŸš€ Perspectives : Centralisation et Alerting

L'audit local est une base indispensable, mais la sÃ©curitÃ© moderne repose sur la **proactivitÃ©**.

<div class="flex flex-col md:flex-row items-center gap-6 bg-white/5 p-6 rounded-xl border border-white/10 my-8">
  <div class="flex-1">
    <p class="text-sm leading-relaxed">
      La prochaine Ã©volution majeure consistera Ã  centraliser ces journaux vers un serveur <strong>Graylog</strong>. En configurant un <strong>Stream dÃ©diÃ©</strong>, chaque dÃ©tection de l'ID 4624 pour l'utilisateur <code>secu-adm-urgency</code> dÃ©clenchera une alerte instantanÃ©e (Email ou Webhook).
    </p>
  </div>
  <div class="flex items-center justify-center gap-4 text-2xl opacity-50">
    <span>ğŸ–¥ï¸</span>
    <span>â¡ï¸</span>
    <span>ğŸ“Š</span>
    <span>â¡ï¸</span>
    <span>ğŸš¨</span>
  </div>
</div>


<section class="mt-16 border-t border-white/10 pt-12">
  
  <div class="relative overflow-hidden bg-red-500/5 border border-red-500/20 rounded-2xl p-6 sm:p-8">
    <div class="absolute top-0 right-0 p-4 opacity-10 text-red-500 text-6xl font-bold select-none">!</div>
    
    <div class="relative z-10">
      <h4 class="text-red-400 font-bold text-lg mb-4 flex items-center gap-3">
        <span class="p-2 bg-red-500/20 rounded-lg">âš ï¸</span>
        RÃ¨gle de Gouvernance
      </h4>
      
      <p class="text-sm sm:text-base leading-relaxed opacity-90 mb-6">
        Ce compte ne doit <strong>jamais</strong> Ãªtre utilisÃ© pour l'administration courante. Son usage est rÃ©servÃ© aux crises majeures avec un protocole strict :
      </p>

      <div class="grid grid-cols-1 gap-3">
        <div class="flex items-center gap-4 bg-white/5 p-3 rounded-xl border border-white/5">
          <span class="text-lg">ğŸ“</span>
          <p class="text-[11px] sm:text-xs font-medium opacity-80 uppercase tracking-wide">Justification au registre d'incidents</p>
        </div>
        <div class="flex items-center gap-4 bg-white/5 p-3 rounded-xl border border-white/5">
          <span class="text-lg">ğŸ”„</span>
          <p class="text-[11px] sm:text-xs font-medium opacity-80 uppercase tracking-wide">Rotation immÃ©diate du mot de passe</p>
        </div>
        <div class="flex items-center gap-4 bg-white/5 p-3 rounded-xl border border-white/5">
          <span class="text-lg">ğŸ”</span>
          <p class="text-[11px] sm:text-xs font-medium opacity-80 uppercase tracking-wide">Audit post-mortem des logs</p>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center bg-white/5 border border-white/10 rounded-2xl p-8 mt-12">
    <div>
      <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
        <span class="text-green-400">âœ…</span> Bilan de l'Ã©tape 03
      </h3>
      <ul class="space-y-3 text-sm opacity-80">
        <li class="flex items-start gap-3">
          <span><strong>Compte Break-Glass :</strong> <code>secu-adm-urgency</code> opÃ©rationnel.</span>
        </li>
        <li class="flex items-start gap-3">
          <span><strong>Automatisation :</strong> CrÃ©ation via script PowerShell validÃ©e.</span>
        </li>
      </ul>
    </div>
    
    <div class="hidden md:flex justify-center border-l border-white/10 pl-8 text-center">
       <div>
          <div class="text-4xl mb-2">ğŸ°</div>
          <p class="text-[10px] uppercase tracking-tighter opacity-40 font-bold">PrÃªt pour l'audit</p>
       </div>
    </div>
  </div>

  <div class="max-w-2xl mx-auto text-center space-y-4 mt-12">
    <p class="text-base leading-relaxed opacity-90 italic">
      "Le socle est prÃªt. Place maintenant Ã  l'Ã©preuve de vÃ©ritÃ©."
    </p>
    <p class="text-sm opacity-60">
      Objectif suivant : Audit de vulnÃ©rabilitÃ©s avec <strong>PingCastle</strong> pour valider notre score de sÃ©curitÃ©.
    </p>
  </div>

</section>

<NextStep 
  href="/projets/audit-pingcastle" 
  title="Audit de sÃ©curitÃ© avec PingCastle" 
/>
