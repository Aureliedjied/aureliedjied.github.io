---
title: "S√©curit√© : Compte de secours Break-Glass"
description: "Mise en place d'une proc√©dure d'urgence pour pr√©venir la perte d'acc√®s au domaine apr√®s durcissement."
category: "windows-server"
tags: ["S√©curit√©", "Active Directory", "Windows Server"]
pubDate: 2026-01-12
slug: "break-glass-account"
serie: "architecture-ad" 
serieOrder: 4
---

import SeriesStepper from '../../../components/SeriesStepper.astro';
import NextStep from '../../../components/NextStep.astro';


<section class="my-10 space-y-8">
  
  <div class="flex flex-col md:flex-row gap-8 items-start">
    <div class="flex-1 space-y-4">
      <p class="text-base leading-relaxed opacity-90">
        Le durcissement (<em>Hardening</em>) d'une infrastructure peut paradoxalement mener √† un <strong>d√©ni de service administratif</strong>. 
      </p>
      <div class="bg-amber-500/10 border-l-4 border-amber-500 p-4 rounded-r-xl">
        <p class="text-sm leading-relaxed text-amber-200/80">
          Si une panne majeure affecte le MFA ou si une GPO restrictive bloque les acc√®s nominaux, le compte <strong>Break-Glass</strong> est l'ultime recours pour reprendre la main sur l'annuaire.
        </p>
      </div>
    </div>
  </div>

  <div class="pt-6 border-t border-white/5">
    <h2 class="text-2xl font-bold text-white flex items-center gap-3">
      <span class="text-blue-400">üíª</span> Cr√©ation automatis√©e via PowerShell
    </h2>
    <p class="text-sm opacity-60 mt-2">
      Pour garantir une configuration rigoureuse et reproductible, j'ai automatis√© la cr√©ation du compte <code class="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-md border border-blue-500/30 font-mono text-sm font-bold shadow-sm">secu-adm-urgency</code>. L'automatisation √©limine l'erreur humaine sur des param√®tres de s√©curit√© critiques.
    </p>
  </div>

</section>


<div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-10">
  
  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-white/10 shadow-lg bg-[#012456]">
      <div class="bg-white/10 px-3 py-2 flex gap-1.5 items-center">
        <div class="w-2 h-2 rounded-full bg-red-500/50"></div>
        <div class="text-[9px] text-white/40 font-mono ml-2 uppercase tracking-widest">Phase 1 : Init</div>
      </div>
      <img 
        src="/images/projets/architecture-ad/account-glass/script-secu-1.png" 
        alt="Script PowerShell Phase 1" 
        class="w-full h-full object-contain p-4" 
      />
    </div>
    <p class="text-[0.65rem] italic opacity-50 text-center px-4">Provisioning de l'OU <code>99-EMERGENCY</code> et initialisation des variables s√©curis√©es.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-white/10 shadow-lg bg-[#012456]">
      <div class="bg-white/10 px-3 py-2 flex gap-1.5 items-center">
        <div class="w-2 h-2 rounded-full bg-green-500/50"></div>
        <div class="text-[9px] text-white/40 font-mono ml-2 uppercase tracking-widest">Phase 2 : Hardening</div>
      </div>
      <img 
        src="/images/projets/architecture-ad/account-glass/script-secu-2.png" 
        alt="Script PowerShell Phase 2" 
        class="w-full h-full object-contain p-4" 
      />
    </div>
    <p class="text-[0.65rem] italic opacity-50 text-center px-4">Cr√©ation de l'objet utilisateur et application des flags de non-d√©l√©gation Kerberos.</p>
  </div>
</div>
---

## üèóÔ∏è Isolation et Structure AD

Le compte `secu-adm-urgency` est isol√© dans une Unit√© d'Organisation (OU) sp√©cifique. Cette s√©paration permet d'appliquer des restrictions d'acc√®s strictes et de faciliter l'audit.

<div style="display: flex; justify-content: center; margin: 3rem 0;">
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 500px;">
    <img src="/images/projets/architecture-ad/account-glass/secu-adm.png" alt="Utilisateur dans son OU" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Visualisation du compte dormant dans l'OU 99-EMERGENCY</p>
  </div>
</div>

---

## üõ°Ô∏è Immunisation : Blocage de l'h√©ritage GPO

C'est l'√©tape cruciale de la strat√©gie : on veut s'assurer qu'aucune erreur de configuration dans une GPO globale (ex: restriction d'horaires ou param√®tre MFA d√©faillant) ne vienne verrouiller ce compte de secours.

<div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-8 items-center">
  <div class="flex flex-col items-center">
    <img src="/images/projets/architecture-ad/account-glass/secu-adm-blok.png" alt="Blocage h√©ritage" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Action : Clic droit sur l'OU > Bloquer l'h√©ritage</p>
  </div>

  <div class="flex flex-col items-center">
    <img src="/images/projets/architecture-ad/account-glass/gpo-blok.png" alt="Confirmation blocage" style="width: 100%; height: auto; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);" />
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">R√©sultat : L'ic√¥ne bleue confirme que l'OU est prot√©g√©e des GPO parentes</p>
  </div>
</div>

> üí° **Note de s√©curit√©** : Bien que l'h√©ritage soit bloqu√©, les strat√©gies appliqu√©es directement au niveau des contr√¥leurs de domaine restent actives. L'audit et la protection du syst√®me ne sont donc jamais compromis.
---

## üëÅÔ∏è Surveillance et Audit

Toute activit√© li√©e √† ce compte doit √™tre consid√©r√©e comme un incident de s√©curit√©.  
La supervision repose notamment sur :

- **4624** : Connexion r√©ussie  
- **4625** : Tentative de connexion √©chou√©e  
- **4672** : Attribution de privil√®ges sp√©ciaux (connexion avec droits admin)

Ces √©v√©nements permettent de d√©tecter aussi bien l‚Äôusage l√©gitime d‚Äôurgence que les tentatives d‚Äôabus.

<div class="my-6 overflow-hidden rounded-lg border border-white/10">
  <table class="w-full text-sm text-left">
    <thead class="bg-white/5">
      <tr>
        <th class="p-3 border-b border-white/10">Param√®tre de s√©curit√©</th>
        <th class="p-3 border-b border-white/10">Valeur / √âtat</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">D√©l√©gation Kerberos</td>
        <td class="p-3 border-b border-white/10 text-blue-400">D√©sactiv√©e (Sensible)</td>
      </tr>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">Expiration Password</td>
        <td class="p-3 border-b border-white/10">Jamais</td>
      </tr>
      <tr>
        <td class="p-3 border-b border-white/10 font-bold">Stockage Secret</td>
        <td class="p-3 border-b border-white/10 text-green-400">Physique (Hors-ligne)</td>
      </tr>
    </tbody>
  </table>
</div>

  <div style="display: flex; justify-content: center; margin: 3rem 0;">
    <div style="display: flex; flex-direction: column; align-items: center; max-width: 500px;">
      <img src="/images/projets/architecture-ad/account-glass/log-session-urgency.png" alt="log powershell" style="width: 100%; height: auto; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);" />
      <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Visualisation du log de connexion via PowerShell</p>
    </div>
  </div>

  ---


<section class="mt-16 border-t border-white/10 pt-12">
  
  {/* Bloc Alerte Rouge - Adapt√© aux variables */}
  <div style="background-color: rgba(239, 68, 68, 0.05); border: 1px solid rgba(239, 68, 68, 0.2);" class="relative overflow-hidden rounded-2xl p-6 sm:p-8 transition-all hover:shadow-md">
    <div class="absolute top-0 right-0 p-4 opacity-10 text-red-500 text-6xl font-bold select-none">!</div>
    
    <div class="relative z-10">
      <h4 class="text-red-500 dark:text-red-400 font-black text-lg mb-4 flex items-center gap-3">
        <span class="p-2 bg-red-500/10 rounded-lg">‚ö†Ô∏è</span>
        R√®gle de Gouvernance
      </h4>
      
      <p style="color: var(--text-main);" class="text-sm sm:text-base leading-relaxed mb-6">
        Ce compte ne doit <strong>jamais</strong> √™tre utilis√© pour l'administration courante. Son usage est r√©serv√© aux crises majeures avec un protocole strict :
      </p>

      <div class="grid grid-cols-1 gap-3">
        <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="flex items-center gap-4 p-3 rounded-xl">
          <span class="text-lg">üìù</span>
          <p style="color: var(--text-title);" class="text-[10px] sm:text-xs font-bold uppercase tracking-widest opacity-80">Justification au registre d'incidents</p>
        </div>
        <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="flex items-center gap-4 p-3 rounded-xl">
          <span class="text-lg">üîÑ</span>
          <p style="color: var(--text-title);" class="text-[10px] sm:text-xs font-bold uppercase tracking-widest opacity-80">Rotation imm√©diate du mot de passe</p>
        </div>
        <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="flex items-center gap-4 p-3 rounded-xl">
          <span class="text-lg">üîç</span>
          <p style="color: var(--text-title);" class="text-[10px] sm:text-xs font-bold uppercase tracking-widest opacity-80">Audit post-mortem des logs</p>
        </div>
      </div>
    </div>
  </div>

  {/* Bilan de l'√©tape 04 */}
  <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center rounded-2xl p-8 mt-12 shadow-sm">
    <div>
      <h3 style="color: var(--text-title);" class="text-xl font-bold mb-4 flex items-center gap-2">
        <span class="text-green-500">‚úÖ</span> Bilan de l'√©tape 04
      </h3>
      <ul class="space-y-3 text-sm">
        <li class="flex items-start gap-3" style="color: var(--text-main);">
          <span><strong>Compte Break-Glass :</strong> <code style="color: var(--text-purple); background: var(--purple-border);" class="px-1.5 py-0.5 rounded text-[10px] font-mono">secu-adm-urgency</code> op√©rationnel.</span>
        </li>
        <li class="flex items-start gap-3" style="color: var(--text-main);">
          <span><strong>Automatisation :</strong> Cr√©ation via script PowerShell valid√©e.</span>
        </li>
        <li class="flex items-start gap-3" style="color: var(--text-main);">
          <span><strong>Contr√¥le :</strong> Audit mis en place.</span>
        </li>
      </ul>
    </div>
    
    {/* Forteresse Mobile-Friendly */}
    <div style="border-color: var(--card-border);" class="flex justify-center border-t pt-8 md:border-t-0 md:border-l md:pl-8 md:pt-0">
        <div class="text-center">
          <div class="text-5xl mb-2 filter drop-shadow-xl">üè∞</div>
          <p style="color: var(--text-title);" class="text-[10px] uppercase tracking-widest font-black opacity-60">Pr√™t pour l'audit</p>
        </div>
    </div>
  </div>

  {/* Conclusion & Next Step */}
  <div class="max-w-2xl mx-auto text-center space-y-4 mt-12 px-4">
    <p style="color: var(--text-main);" class="text-base leading-relaxed opacity-90 italic">
      "Le socle est pr√™t. Place maintenant √† l'√©preuve de v√©rit√©."
    </p>
    <div style="background-color: var(--purple-border);" class="h-px w-24 mx-auto"></div>
    <p style="color: var(--text-muted);" class="text-sm">
      <strong>Objectif suivant :</strong> Audit de vuln√©rabilit√©s avec <strong>PingCastle</strong> pour valider notre score de s√©curit√©.
    </p>
  </div>

</section>

<NextStep 
  href="/projets/audit-pingcastle" 
  title="Audit de s√©curit√© avec PingCastle" 
/>
