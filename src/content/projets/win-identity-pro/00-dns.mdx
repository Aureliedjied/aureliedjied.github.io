---
title: "DNS : Configuration de la Recherche InversÃ©e"
description: "Mise en place de la zone de recherche inversÃ©e pour une infrastructure AD cohÃ©rente." 
tags: ["Active Directory", "SÃ©curitÃ©", "DNS"]
pubDate: 2026-01-20
category: "windows-server"
slug: "dns"
---

import SeriesStepper from '../../../components/SeriesStepper.astro';
import { WIN_IDENTITY_PRO } from '../../../constants/series';
import NextStep from '../../../components/NextStep.astro';

<SeriesStepper 
  seriesTitle="Configurer le DNS" 
  steps={WIN_IDENTITY_PRO} 
  currentStepIndex={0} 
/>

<p class="mt-6 text-sm leading-relaxed text-slate-700 dark:text-white/70">
Lors de la promotion de mon contrÃ´leur de domaine, le rÃ´le DNS sâ€™est installÃ© automatiquement. Cependant, seule la <strong>zone de recherche directe</strong> Ã©tait configurÃ©e. Pour une infrastructure professionnelle, la <strong>zone de recherche inversÃ©e</strong> (Reverse DNS) est indispensable.
</p>

<div class="my-8 p-6 bg-blue-50 dark:bg-blue-500/5 border-l-4 border-blue-500 rounded-r-xl">
  <h4 class="text-xs font-black uppercase tracking-widest text-blue-800 dark:text-blue-400 mb-4">
    ğŸ’¡ Pourquoi la rÃ©solution inverse ?
  </h4>
  <ul class="grid grid-cols-1 sm:grid-cols-2 gap-3">
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">âœ”</span> LisibilitÃ© des logs de sÃ©curitÃ©
    </li>
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">âœ”</span> Services AD (Kerberos, rÃ©plication)
    </li>
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">âœ”</span> IntÃ©gration Linux & Network
    </li>
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">âœ”</span> Outils d'audit (PingCastle)
    </li>
  </ul>
</div>

---

## ğŸ” Ã‰tape 1 : Identifier le problÃ¨me de rÃ©solution

Avant toute modification, je vÃ©rifie le comportement actuel. En interrogeant lâ€™adresse IP du DC via `nslookup`, le serveur apparaÃ®t comme **Unknown**.

<div class="flex flex-col items-center my-10 group">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-xl transition-all group-hover:border-blue-500/30">
    <img src="/images/projets/win-identity-pro/dns/dns0.png" alt="Erreur nslookup Unknown" class="rounded-xl w-full max-w-2xl" />
  </div>
  <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Ã‰chec de rÃ©solution : absence d'enregistrement PTR</p>
</div>

---

## ğŸ—ï¸ Ã‰tape 2 : CrÃ©ation de la Zone InversÃ©e (AD-Integrated)

Je crÃ©e une nouvelle zone permettant dâ€™Ã©tablir la correspondance entre les adresses IP et les noms FQDN.

<div class="grid grid-cols-1 sm:grid-cols-2 gap-6 my-10">
  
  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/win-identity-pro/dns/dns2.png" alt="Zone principale" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>Type :</strong> Zone principale intÃ©grÃ©e Ã  lâ€™Active Directory.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/win-identity-pro/dns/dns3.png" alt="RÃ©plication" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>RÃ©plication :</strong> Propagation Ã  tous les serveurs DNS du domaine.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/win-identity-pro/dns/dns4.png" alt="IPv4" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>Protocole :</strong> CrÃ©ation de la zone pour l'adressage IPv4.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/win-identity-pro/dns/dns5.png" alt="ID rÃ©seau" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>RÃ©seau :</strong> Saisie de l'ID rÃ©seau <code class="text-blue-600 dark:text-blue-400">192.168.174</code>.</p>
  </div>

</div>

---

## ğŸ”— Ã‰tape 3 : Automatisation du pointeur PTR

Il est prÃ©fÃ©rable dâ€™activer la crÃ©ation automatique du pointeur pour Ã©viter une gestion manuelle fastidieuse. Je lie lâ€™enregistrement **A** du serveur Ã  la zone inversÃ©e via ses propriÃ©tÃ©s.

<div class="grid grid-cols-1 sm:grid-cols-2 gap-8 my-10 items-center">
  <img src="/images/projets/win-identity-pro/dns/dns7.png" alt="Activation PTR" class="rounded-xl border border-slate-200 dark:border-white/10 shadow-lg" />
  <div class="bg-slate-50 dark:bg-white/5 p-6 rounded-2xl border border-slate-200 dark:border-white/10">
    <p class="text-[11px] text-slate-700 dark:text-white/70 leading-relaxed">L'option <span class="text-blue-600 dark:text-blue-400 font-bold">"Mettre Ã  jour l'enregistrement de pointeur (PTR) associÃ©"</span> garantit qu'Ã  chaque changement d'IP, le DNS inverse se mettra Ã  jour dynamiquement.</p>
  </div>
</div>

---

---
## ğŸŒ Ã‰tape 4 : Configuration des Redirecteurs et Validation

Une fois les zones locales configurÃ©es, il est nÃ©cessaire de permettre au serveur de rÃ©soudre les noms de domaines externes (Internet). 

### Pourquoi configurer des redirecteurs ?
Mon contrÃ´leur de domaine ne connaÃ®t que les machines de mon lab. Pour que les clients puissent naviguer sur le web, j'utilise des **redirecteurs DNS**. Le serveur local va ainsi interroger des rÃ©solveurs publics (comme ceux de Google ou Cloudflare) pour toutes les requÃªtes qu'il ne sait pas traiter lui-mÃªme.

<div class="my-10 flex flex-col items-center">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-sm group">
    <img src="/images/projets/win-identity-pro/dns/dnsredirect.png" alt="Configuration des redirecteurs DNS" class="rounded-xl max-w-full h-auto" />
  </div>
  <div class="mt-4 flex items-center gap-2 text-slate-500 dark:text-white/40 font-medium">
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">PropriÃ©tÃ©s du serveur : Ajout des DNS de Google (8.8.8.8)</p>
  </div>
</div>

### Validation finale
Je termine par un test de cohÃ©rence. La rÃ©solution inverse doit maintenant fonctionner parfaitement : le serveur doit Ãªtre capable de retourner son propre nom FQDN Ã  partir de son adresse IP.

<div class="my-10 flex flex-col items-center">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-sm">
    <img src="/images/projets/win-identity-pro/dns/dnsok.png" alt="Validation DNS OK" class="rounded-xl max-w-full h-auto" />
  </div>
  <div class="mt-4 flex items-center gap-2 text-slate-500 dark:text-white/40 font-medium">
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Test NSLOOKUP : Correspondance IP/Nom validÃ©e</p>
  </div>
</div>

<div class="mt-12 space-y-6 border-t border-slate-200 dark:border-white/10 pt-8 text-balance">
  <p class="text-sm leading-relaxed text-slate-700 dark:text-white/80 italic">
    L'infrastructure rÃ©seau est dÃ©sormais saine et capable de rÃ©soudre les identitÃ©s dans les deux sens. Cette cohÃ©rence de nommage est le pilier du futur service <strong>LDAPS</strong>.
  </p>
  <p class="text-sm leading-relaxed text-slate-700 dark:text-white/80">
    Elle garantit que les clients pourront authentifier le serveur sans erreur de certificat (Hostname mismatch), permettant ainsi le passage d'un protocole LDAP en clair vers un canal chiffrÃ© et intÃ¨gre.
  </p>
</div>

<section class="mt-16 space-y-12">
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center bg-slate-50 dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl p-8 shadow-sm">
    <div>
      <h3 class="text-xl font-black mb-4 flex items-center gap-2 text-slate-900 dark:text-white">
        <span class="text-green-500 text-lg">âœ…</span> Bilan de l'Ã©tape : DNS
      </h3>
      <ul class="space-y-3">
        <li class="flex items-start gap-3 text-sm text-slate-700 dark:text-white/80">
          <span><strong>CohÃ©rence rÃ©seau :</strong> Zone de recherche inversÃ©e (PTR) fonctionnelle sur le subnet.</span>
        </li>
        <li class="flex items-start gap-3 text-sm text-slate-700 dark:text-white/80">
          <span><strong>Automatisation :</strong> Mise Ã  jour dynamique des enregistrements activÃ©e.</span>
        </li>
        <li class="flex items-start gap-3 text-sm text-slate-700 dark:text-white/80">
          <span><strong>Ouverture maÃ®trisÃ©e :</strong> Redirecteurs DNS configurÃ©s pour la rÃ©solution externe.</span>
        </li>
      </ul>
    </div>
    
    <div class="hidden md:flex justify-center border-l border-slate-200 dark:border-white/10 pl-8">
        <div class="text-center">
          <div class="text-4xl mb-2 transition-transform hover:scale-110 duration-300">ğŸŒ</div>
          <p class="text-[10px] uppercase tracking-widest text-slate-900 dark:text-white/40 font-black">Infrastructure Saine</p>
          <p class="text-[9px] text-slate-500 mt-1 italic">PrÃªt pour la PKI</p>
        </div>
    </div>
  </div>

  <div class="max-w-2xl mx-auto text-center space-y-6 px-4">
    <p class="text-base leading-relaxed text-slate-800 dark:text-white/90 italic">
      "Le DNS est le systÃ¨me nerveux de l'Active Directory. Sans une rÃ©solution parfaite, la sÃ©curitÃ© et les certificats ne peuvent reposer sur des bases solides."
    </p>
    
    <div class="space-y-2">
       <p class="text-sm text-slate-600 dark:text-white/60">
        <strong>Objectif suivant :</strong> DÃ©ployer l'AutoritÃ© de Certification (AD CS) pour chiffrer les flux LDAPS et sÃ©curiser les Ã©changes d'identitÃ©s.
      </p>
      
    </div>
  </div>

</section>

<NextStep 
  href="/projets/ad-cs" 
  title="PKI : DÃ©ploiement AD CS" 
/>
