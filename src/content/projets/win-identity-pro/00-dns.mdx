---
title: "DNS : Configuration de la Recherche InversÃ©e"
description: "Mise en place de la zone de recherche inversÃ©e pour une infrastructure AD cohÃ©rente." 
tags: ["Active Directory", "SÃ©curitÃ©", "DNS"]
pubDate: 2026-01-20
category: "windows"
slug: "dns"
---

import SeriesStepper from '../../../components/SeriesStepper.astro';
import { WIN_IDENTITY_PRO } from '../../../constants/series';
import NextStep from '../../../components/NextStep.astro';

<SeriesStepper 
  seriesTitle="Configurer le DNS" 
  steps={WIN_IDENTITY_PRO} 
  currentStepIndex={0} 
/>

Lors de la promotion de mon contrÃ´leur de domaine, le rÃ´le DNS sâ€™est installÃ© automatiquement. Cependant, seule la **zone de recherche directe** Ã©tait configurÃ©e.  
Pour obtenir une infrastructure propre et exploitable en environnement professionnel, il est prÃ©fÃ©rable de mettre en place une **zone de recherche inversÃ©e**, qui permet dâ€™associer une adresse IP Ã  un nom DNS.

> ğŸ’¡ La rÃ©solution inverse est importante pour :
> - La lisibilitÃ© des journaux de sÃ©curitÃ©  
> - Le bon fonctionnement de certains services AD  
> - Les serveurs Linux et Ã©quipements rÃ©seau  
> - Les outils de supervision et dâ€™audit  

---

## ğŸ” Ã‰tape 1 : Identifier le problÃ¨me de rÃ©solution inverse

Avant toute modification, je vÃ©rifie le comportement actuel du serveur DNS.  
En interrogeant lâ€™adresse IP du contrÃ´leur de domaine, la rÃ©solution Ã©choue : le serveur apparaÃ®t comme **Unknown**. Cela indique quâ€™aucune zone de recherche inversÃ©e nâ€™est configurÃ©e.

<div style="display: flex; justify-content: center; margin: 2rem 0;">
    <div style="display: flex; flex-direction: column; align-items: center; max-width: 700px;">
        <img src="/images/projets/win-identity-pro/dns/dns0.png" alt="Erreur nslookup Unknown" class="rounded-lg border border-white/10 shadow-md max-w-2xl w-full" /> 
        <p class="text-[0.7rem] italic opacity-50 mt-2 text-center max-w-xl">Le serveur ne parvient pas Ã  se rÃ©soudre lui-mÃªme via son adresse IP, signe de lâ€™absence de zone PTR.</p>
    </div>
</div>

Il est prÃ©fÃ©rable de corriger cela afin dâ€™assurer une cohÃ©rence DNS complÃ¨te dans lâ€™infrastructure.

---

## ğŸ—ï¸ Ã‰tape 2 : CrÃ©er une zone de recherche inversÃ©e intÃ©grÃ©e Ã  lâ€™AD

Je crÃ©e une nouvelle zone dans le gestionnaire DNS.  
Cette zone permettra dâ€™Ã©tablir la correspondance entre les adresses IP et les noms FQDN.

<div style="display: flex; justify-content: center; margin: 2rem 0;">
  <div style="display: flex; flex-direction: column; align-items: center; max-width: 700px;">
    <img src="/images/projets/win-identity-pro/dns/dns.png" alt="CrÃ©ation dâ€™une nouvelle zone DNS" class="rounded-lg border border-white/10 shadow-md max-w-2xl w-full" /> 
    <p class="text-[0.7rem] italic opacity-50 mt-2 text-center max-w-xl">Lâ€™assistant de crÃ©ation de zone DNS permet dâ€™ajouter une zone de recherche inversÃ©e.</p>
    </div>
</div>

Lors de la configuration, je choisis les options suivantes :

- **Type de zone :** Zone principale intÃ©grÃ©e Ã  Active Directory  
- **Ã‰tendue de rÃ©plication :** Tous les serveurs DNS du domaine  
- **Version IP :** IPv4  
- **ID RÃ©seau :** `192.168.174` (rÃ©seau de mon lab)

<div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8 justify-items-center">
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dns2.png" alt="Zone principale" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">SÃ©lection dâ€™une zone principale intÃ©grÃ©e Ã  lâ€™AD pour permettre la rÃ©plication automatique.</p>
  </div>
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dns3.png" alt="RÃ©plication Active Directory" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">RÃ©plication vers tous les serveurs DNS du domaine pour garantir la cohÃ©rence.</p>
  </div>
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dns4.png" alt="Choix IPv4" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">CrÃ©ation dâ€™une zone de recherche inversÃ©e pour le protocole IPv4.</p>
  </div>
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dns5.png" alt="ID rÃ©seau" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">Saisie de lâ€™identifiant rÃ©seau correspondant Ã  lâ€™adressage du lab.</p>
  </div>
</div>

Une fois la zone crÃ©Ã©e, on aura une structure prÃªte Ã  accueillir les enregistrements PTR.

---

## ğŸ”— Ã‰tape 3 : Activer la crÃ©ation automatique du pointeur PTR

La zone existe maintenant, mais il faut lier lâ€™enregistrement du serveur Ã  cette zone inversÃ©e.

Je me rends dans les propriÃ©tÃ©s de lâ€™enregistrement A de mon serveur, afin dâ€™activer la mise Ã  jour automatique du pointeur PTR.

<div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8 justify-items-center">
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dns6.png" alt="PropriÃ©tÃ©s du serveur DNS" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">AccÃ¨s aux propriÃ©tÃ©s de lâ€™enregistrement A du serveur dans la zone directe.</p>
  </div>
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dns7.png" alt="Activation du PTR" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">Activation de lâ€™option permettant de crÃ©er automatiquement lâ€™enregistrement PTR associÃ©.</p>
  </div>
</div>

Il est prÃ©fÃ©rable dâ€™activer cette option pour Ã©viter dâ€™avoir Ã  gÃ©rer manuellement les enregistrements inversÃ©s.

---

## ğŸŒ Ã‰tape 4 : VÃ©rifier la configuration DNS globale

Pour terminer, je vÃ©rifie Ã©galement les **redirecteurs DNS** afin dâ€™assurer la rÃ©solution des noms externes, en complÃ©ment de la rÃ©solution interne.

<div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8 justify-items-center">
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dnsredirect.png" alt="Configuration des redirecteurs DNS" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">Configuration des redirecteurs pour permettre la rÃ©solution des noms Internet.</p>
  </div>
  <div class="flex flex-col items-center">
    <img src="/images/projets/win-identity-pro/dns/dnsok.png" alt="Validation de la rÃ©solution DNS" class="rounded-lg border border-white/10 shadow-md max-w-md w-full" />
    <p class="text-[0.65rem] italic opacity-50 mt-2 text-center">La rÃ©solution inverse fonctionne dÃ©sormais : lâ€™adresse IP renvoie correctement le nom du serveur.</p>
  </div>
</div>

L'infrastructure rÃ©seau Ã©tant dÃ©sormais saine et capable de rÃ©soudre les identitÃ©s dans les deux sens, nous avons posÃ© les fondations nÃ©cessaires au dÃ©ploiement de notre autoritÃ© de certification.
Cette cohÃ©rence de nommage est le pilier du futur service LDAPS : elle garantit que les clients pourront authentifier le serveur sans erreur de certificat, permettant ainsi le passage d'un protocole LDAP en clair vers un canal chiffrÃ© et intÃ¨gre


<NextStep 
  href="/projets/ad-cs" 
  title="PKI : DÃ©ploiement AD CS" 
/>
