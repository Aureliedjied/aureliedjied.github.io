---
title: "DNS : Configuration de la Recherche Invers√©e"
description: "Mise en place de la zone de recherche invers√©e pour une infrastructure AD coh√©rente." 
tags: ["Active Directory", "S√©curit√©", "DNS"]
pubDate: 2026-01-20
category: "windows-server"
serie: "identity-security"
serieOrder: 1
slug: "dns"
---

import SeriesStepper from '../../../components/SeriesStepper.astro';
import NextStep from '../../../components/NextStep.astro';

<p class="mt-6 text-sm leading-relaxed text-slate-700 dark:text-white/70">
Lors de la promotion de mon contr√¥leur de domaine, le r√¥le DNS s‚Äôest install√© automatiquement. Cependant, seule la <strong>zone de recherche directe</strong> √©tait configur√©e. Pour une infrastructure professionnelle, la <strong>zone de recherche invers√©e</strong> (Reverse DNS) est indispensable.
</p>

<div class="my-8 p-6 bg-blue-50 dark:bg-blue-500/5 border-l-4 border-blue-500 rounded-r-xl">
  <h4 class="text-xs font-black uppercase tracking-widest text-blue-800 dark:text-blue-400 mb-4">
    üí° Pourquoi la r√©solution inverse ?
  </h4>
  <ul class="grid grid-cols-1 sm:grid-cols-2 gap-3">
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">‚úî</span> Lisibilit√© des logs de s√©curit√©
    </li>
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">‚úî</span> Services AD (Kerberos, r√©plication)
    </li>
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">‚úî</span> Int√©gration Linux & Network
    </li>
    <li class="flex items-center gap-2 text-[11px] font-medium text-slate-700 dark:text-white/80">
      <span class="text-blue-500">‚úî</span> Outils d'audit (PingCastle)
    </li>
  </ul>
</div>

---

## üîç √âtape 1 : Identifier le probl√®me de r√©solution

Avant toute modification, je v√©rifie le comportement actuel. En interrogeant l‚Äôadresse IP du DC via `nslookup`, le serveur appara√Æt comme **Unknown**.

<div class="flex flex-col items-center my-10 group">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-xl transition-all group-hover:border-blue-500/30">
    <img src="/images/projets/identity-security/dns/dns0.png" alt="Erreur nslookup Unknown" class="rounded-xl w-full max-w-2xl" />
  </div>
  <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">√âchec de r√©solution : absence d'enregistrement PTR</p>
</div>

---

## üèóÔ∏è √âtape 2 : Cr√©ation de la Zone Invers√©e (AD-Integrated)

Je cr√©e une nouvelle zone permettant d‚Äô√©tablir la correspondance entre les adresses IP et les noms FQDN.

<div class="grid grid-cols-1 sm:grid-cols-2 gap-6 my-10">
  
  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/identity-security/dns/dns2.png" alt="Zone principale" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>Type :</strong> Zone principale int√©gr√©e √† l‚ÄôActive Directory.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/identity-security/dns/dns3.png" alt="R√©plication" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>R√©plication :</strong> Propagation √† tous les serveurs DNS du domaine.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/identity-security/dns/dns4.png" alt="IPv4" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>Protocole :</strong> Cr√©ation de la zone pour l'adressage IPv4.</p>
  </div>

  <div class="space-y-3">
    <div class="aspect-video overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-slate-100 dark:bg-[#0c0c0c] p-2">
      <img src="/images/projets/identity-security/dns/dns5.png" alt="ID r√©seau" class="w-full h-full object-contain" />
    </div>
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;"><strong>R√©seau :</strong> Saisie de l'ID r√©seau <code class="text-blue-600 dark:text-blue-400">192.168.174</code>.</p>
  </div>

</div>

---

## üîó √âtape 3 : Automatisation du pointeur PTR

Il est pr√©f√©rable d‚Äôactiver la cr√©ation automatique du pointeur pour √©viter une gestion manuelle fastidieuse. Je lie l‚Äôenregistrement **A** du serveur √† la zone invers√©e via ses propri√©t√©s.

<div class="grid grid-cols-1 sm:grid-cols-2 gap-8 my-10 items-center">
  <img src="/images/projets/identity-security/dns/dns7.png" alt="Activation PTR" class="rounded-xl border border-slate-200 dark:border-white/10 shadow-lg" />
  <div class="bg-slate-50 dark:bg-white/5 p-6 rounded-2xl border border-slate-200 dark:border-white/10">
    <p class="text-[11px] text-slate-700 dark:text-white/70 leading-relaxed">L'option <span class="text-blue-600 dark:text-blue-400 font-bold">"Mettre √† jour l'enregistrement de pointeur (PTR) associ√©"</span> garantit qu'√† chaque changement d'IP, le DNS inverse se mettra √† jour dynamiquement.</p>
  </div>
</div>

---

---
## üåê √âtape 4 : Configuration des Redirecteurs et Validation

Une fois les zones locales configur√©es, il est n√©cessaire de permettre au serveur de r√©soudre les noms de domaines externes (Internet). 

### Pourquoi configurer des redirecteurs ?
Mon contr√¥leur de domaine ne conna√Æt que les machines de mon lab. Pour que les clients puissent naviguer sur le web, j'utilise des **redirecteurs DNS**. Le serveur local va ainsi interroger des r√©solveurs publics (comme ceux de Google ou Cloudflare) pour toutes les requ√™tes qu'il ne sait pas traiter lui-m√™me.

<div class="my-10 flex flex-col items-center">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-sm group">
    <img src="/images/projets/identity-security/dns/dnsredirect.png" alt="Configuration des redirecteurs DNS" class="rounded-xl max-w-full h-auto" />
  </div>
  <div class="mt-4 flex items-center gap-2 text-slate-500 dark:text-white/40 font-medium">
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Propri√©t√©s du serveur : Ajout des DNS de Google (8.8.8.8)</p>
  </div>
</div>

### Validation finale
Je termine par un test de coh√©rence. La r√©solution inverse doit maintenant fonctionner parfaitement : le serveur doit √™tre capable de retourner son propre nom FQDN √† partir de son adresse IP.

<div class="my-10 flex flex-col items-center">
  <div class="p-2 bg-white dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-2xl shadow-sm">
    <img src="/images/projets/identity-security/dns/dnsok.png" alt="Validation DNS OK" class="rounded-xl max-w-full h-auto" />
  </div>
  <div class="mt-4 flex items-center gap-2 text-slate-500 dark:text-white/40 font-medium">
    <p style="font-size: 0.65rem; text-align: center; opacity: 0.5; margin-top: 8px; font-style: italic;">Test NSLOOKUP : Correspondance IP/Nom valid√©e</p>
  </div>
</div>

<div class="mt-12 space-y-6 border-t border-slate-200 dark:border-white/10 pt-8 text-balance">
  <p class="text-sm leading-relaxed text-slate-700 dark:text-white/80 italic">
    L'infrastructure r√©seau est d√©sormais saine et capable de r√©soudre les identit√©s dans les deux sens. Cette coh√©rence de nommage est le pilier du futur service <strong>LDAPS</strong>.
  </p>
  <p class="text-sm leading-relaxed text-slate-700 dark:text-white/80">
    Elle garantit que les clients pourront authentifier le serveur sans erreur de certificat (Hostname mismatch), permettant ainsi le passage d'un protocole LDAP en clair vers un canal chiffr√© et int√®gre.
  </p>
</div>

<section class="mt-16 space-y-12">
  
  {/* Carte de Bilan - Responsive & Theme-Ready */}
  <div style="background-color: var(--card-bg); border: 1px solid var(--card-border);" class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center rounded-2xl p-8 shadow-sm">
    <div>
      <h3 style="color: var(--text-title);" class="text-xl font-black mb-4 flex items-center gap-2">
        <span class="text-green-500 text-lg">‚úÖ</span> Bilan de l'√©tape : DNS
      </h3>
      <ul class="space-y-3">
        <li class="flex items-start gap-3 text-sm" style="color: var(--text-main);">
          <span><strong>Coh√©rence r√©seau :</strong> Zone de recherche invers√©e (PTR) fonctionnelle sur le subnet <code style="color: var(--text-purple); background: var(--purple-border);" class="px-1.5 py-0.5 rounded text-[10px] font-mono">192.168.174.x</code>.</span>
        </li>
        <li class="flex items-start gap-3 text-sm" style="color: var(--text-main);">
          <span><strong>Automatisation :</strong> Mise √† jour dynamique des enregistrements activ√©e via les propri√©t√©s de l'enregistrement A.</span>
        </li>
        <li class="flex items-start gap-3 text-sm" style="color: var(--text-main);">
          <span><strong>Ouverture ma√Ætris√©e :</strong> Redirecteurs DNS configur√©s pour assurer la r√©solution des noms externes.</span>
        </li>
      </ul>
    </div>
    
    {/* Globe - Visible sur Mobile et PC */}
    <div style="border-color: var(--card-border);" class="flex justify-center border-t pt-8 md:border-t-0 md:border-l md:pl-8 md:pt-0">
        <div class="text-center">
          <div class="text-5xl mb-2 transition-transform hover:scale-110 duration-300 filter drop-shadow-lg">üåç</div>
          <p style="color: var(--text-title);" class="text-[10px] uppercase tracking-widest font-black opacity-60">Infrastructure Saine</p>
          <p style="color: var(--text-muted);" class="text-[9px] mt-1 italic font-medium">Ready for PKI & LDAPS</p>
        </div>
    </div>
  </div>

  {/* Citation & Prochaine √©tape */}
  <div class="max-w-2xl mx-auto text-center space-y-6 px-4">
    <p style="color: var(--text-main);" class="text-base leading-relaxed italic opacity-90">
      "Le DNS est le syst√®me nerveux de l'Active Directory. Sans une r√©solution parfaite, la s√©curit√© et les certificats ne peuvent reposer sur des bases solides."
    </p>
    
    <div style="background-color: var(--purple-border);" class="h-px w-24 mx-auto"></div>
    
    <div class="space-y-2">
       <p style="color: var(--text-muted);" class="text-sm">
        <strong>Objectif suivant :</strong> D√©ployer l'Autorit√© de Certification (AD CS) pour chiffrer les flux <strong>LDAPS</strong> et s√©curiser les √©changes d'identit√©s.
      </p>
    </div>
  </div>

</section>

<NextStep 
  href="/projets/ad-cs" 
  title="PKI : D√©ploiement AD CS" 
/>
